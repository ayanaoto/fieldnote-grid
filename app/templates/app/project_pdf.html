<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>案件サマリー: {{ project.name }}</title>
    <!-- ★★★ Google Fonts (Noto Sans JP) 読み込みを追加 ★★★ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <!-- ★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ -->
    <style>
        @page {
            size: A4;
            margin: 1.5cm;
        }
        /* ★★★ body にフォント指定を追加 ★★★ */
        body {
            font-family: 'Noto Sans JP', sans-serif; /* ← フォント指定を追加 */
            font-size: 10pt;
            line-height: 1.6;
            color: #333;
        }
        h1 {
            font-size: 16pt;
            font-weight: bold;
            margin-bottom: 20px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            text-align: center;
        }
        .header-info {
             text-align: right;
             margin-bottom: 15px;
             font-size: 9pt;
             color: #555;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            vertical-align: top; /* セルの内容が長くても上揃えに */
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
            width: 25%; /* 見出し列の幅を固定 */
        }
        td {
            width: 75%;
        }
        /* 説明欄は改行を保持 */
        .description {
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>案件サマリー: {{ project.name }}</h1>

    <div class="header-info">
        作成日: {% now "Y-m-d" %}
    </div>

    <table>
        <tr>
            <th>案件名</th>
            <td>{{ project.name }}</td>
        </tr>
        <tr>
            <th>顧客名</th>
            <td>{{ project.customer.name | default:"未設定" }}</td>
        </tr>
        <tr>
            <th>ステータス</th>
            <td>{{ project.status | default:"未設定" }}</td>
        </tr>
        <tr>
            <th>開始予定日</th>
            <td>{{ project.start_date | date:"Y年n月j日" | default:"未設定" }}</td>
        </tr>
        <tr>
            <th>終了予定日</th>
            <td>{{ project.end_date | date:"Y年n月j日" | default:"未設定" }}</td>
        </tr>
        <tr>
            <th>説明</th>
            <td class="description">{{ project.description | default:"-" }}</td>
        </tr>
         <tr>
            <th>作成日時</th>
            <td>{{ project.created_at | date:"Y年n月j日 H:i" | default:"-" }}</td>
        </tr>
    </table>

    <!-- 必要であれば、関連タスク、メモ、チェックリストなどもここに追加できます -->
    <!-- 例:
    <h2>関連タスク</h2>
    <ul>
        {% for task in project.tasks.all %}
            <li>{{ task.name }} ({{ task.get_progress_display }})</li>
        {% empty %}
            <li>関連タスクはありません。</li>
        {% endfor %}
    </ul>
    -->

</body>
</html>
